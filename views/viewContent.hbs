<h2>{{post.title}}</h2>
<p>{{post.username}}님이 쓴 글</p>
<p>{{post.content}}</p>
<a href="/">돌아가기</a>
<a href="javascript:void(0)" onclick="deletePost('{{post.index}}')">삭제하기</a>



<script>
  async function deletePost(index) {
    if (confirm('정말 삭제하시겠습니까?')) {
      try {
        const res = await fetch(`/posts/${index}`, {
          method: 'DELETE'
        })

        if (res.ok) {
          alert('게시글이 삭제되었습니다');
          window.location.href = '/';
        } else {
          alert('게시글 삭제를 실패');
          window.location.href = '/';
        }
      }
      catch (error) {
        console.error(error);
        alert('삭제 중 오류 발생')
      }
    }
  }
</script>